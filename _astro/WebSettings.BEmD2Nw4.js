import{j as e}from"./index.BRsxknAj.js";import{R as f,r as n}from"./index.BJfUAbRs.js";import{B as d,g,c as i}from"./crud.BZ73tJ4N.js";const b=()=>{const t="http://localhost:3000/api/",[r,c]=f.useState(!1),[l,a]=n.useState({user:"",email:"",phone:"",instagram:"",facebook:"",background:"",education:"",skills:""});n.useEffect(()=>{(async()=>{const o=await g(t+"collection?model=websettings&getAll=true");if(!o||o.length===0){console.error("No web settings found");return}a({...o[0],password:""})})()},[]);const x=s=>{i(`${t}adminChange`,admin)},m=s=>{i(`${t}adminChange`,l)};return e.jsxs("div",{className:"bg-white flex flex-col gap-3 shadow-md rounded-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Web Settings"}),e.jsxs("div",{className:"flex flex-col gap-5 w-full p-4",children:[e.jsx("h1",{className:"text-2xl font-semibold text-left",children:"Change Admin Logins"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-4 items-baseline",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",children:"username"}),e.jsx("input",{type:"email",className:"border border-gray-300 rounded-md p-2 w-full",placeholder:"Enter new email",onChange:s=>{a({...l,user:s.target.value})},value:l.user})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-4 items-baseline",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",children:"password"}),e.jsxs("div",{className:"flex flex-row border border-gray-300 rounded-md p-2 w-full",children:[e.jsx("input",{className:"flex-1",type:r?"text":"password",placeholder:"Enter new email",onChange:s=>{a({...l,password:s.target.value})}}),e.jsx("div",{className:"w-fit",children:e.jsx("span",{className:"p-3 cursor-pointer",onClick:()=>{c(!r)},children:r?"hide":"show"})})]})]}),e.jsx(d,{text:"Change Admin Logins",perform:x})]}),e.jsxs("div",{className:"flex flex-col gap-5 w-full p-4",children:[e.jsx("h1",{className:"text-2xl font-semibold text-left",children:"Change Page Details"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 rounded-md",children:[e.jsxs("div",{className:"flex flex-col flex-1 items-start gap-2",children:[e.jsx("h1",{className:"font-semibold text-lg",children:"Email"}),e.jsx("input",{onChange:s=>a({...l,email:s.target.value}),className:"w-full p-3 rounded-sm border border-gray-400 flex-1",placeholder:"Email",type:"text",value:l.email})]}),e.jsxs("div",{className:"flex  flex-1 flex-col items-start gap-2",children:[e.jsx("h1",{className:"font-semibold text-lg",children:"Phone"}),e.jsx("input",{onChange:s=>a({...l,phone:s.target.value}),className:"w-full p-3 rounded-sm border border-gray-400 flex-1",placeholder:"Phone",type:"text",value:l.phone})]})]}),e.jsxs("div",{className:"flex flex-col flex-1 sm:flex-row gap-4 rounded-md",children:[e.jsxs("div",{className:"flex flex-col flex-1 items-start gap-2",children:[e.jsx("h1",{className:"font-semibold text-lg",children:"Instagram"}),e.jsx("input",{onChange:s=>a({...l,instagram:s.target.value}),className:"w-full p-3 rounded-sm border border-gray-400 flex-1",placeholder:"instagram",type:"text",value:l?l.instagram:""})]}),e.jsxs("div",{className:"flex flex-1 flex-col items-start gap-2",children:[e.jsx("h1",{className:"font-semibold text-lg",children:"Facebook link"}),e.jsx("input",{onChange:s=>a({...l,facebook:s.target.value}),className:"w-full p-3 rounded-sm border border-gray-400 flex-1",placeholder:"facebook",type:"text",value:l?l.facebook:""})]})]}),e.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.jsx("h1",{className:"font-semibold text-lg",children:"Background"}),e.jsx("textarea",{onChange:s=>a({...l,background:s.target.value.trim()}),className:"w-full p-3 rounded-sm border border-gray-400 flex-1",placeholder:"Background",rows:"4",value:l?l.background:""})]}),e.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.jsx("h1",{className:"font-semibold text-lg",children:"Education"}),e.jsx("textarea",{onChange:s=>a({...l,education:s.target.value.trim()}),className:"w-full p-3 rounded-sm border border-gray-400 flex-1",placeholder:"Education",rows:"4",value:l?l.education:""})]}),e.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.jsx("h1",{className:"font-semibold text-lg",children:"Skills"}),e.jsx("textarea",{onChange:s=>a({...l,skills:s.target.value.trim()}),className:"w-full p-3 rounded-sm border border-gray-400 flex-1",placeholder:"Skills",rows:"4",value:l?l.skills:""})]}),e.jsx(d,{text:"Update",perform:m})]})]})};export{b as default};
